\documentclass{exam} 
\printanswers 
\def\workshopTitle{Workshop - Array of objects, Class containing array(s)} 
\input{comp125workshopHeader}
\section*{Learning outcomes}
Following are this week's learning outcomes,
\begin{enumerate}
\item Create an array of objects and operate on it
\item Create a class containing an array, create an object of this class, and operate on it.
\end{enumerate}

\section*{Questions}
\begin{questions}

\question 
Consider the class definition from \texttt{RegularPolygon}.

You job is to complete the incomplete client code in \texttt{RegularPolygonClient} that does the following,

\begin{enumerate}
  	\item create an array of 100 RegularPolygon objects
	\item instantiate each item such that it has,
	\begin{enumerate}
  		\item \texttt{numberOfSides} a random integer between 3 and 10. You can get a random integer \texttt{n} in this range using,  		\begin{lstlisting}
int n = 3 + rand.nextInt(8);
				\end{lstlisting}
		\item \texttt{sideLength} a random real number between 1 and 20 in multiples of 0.5. You can get a real number in this range using,
		\begin{lstlisting}
double s = 1 + (0.5 * (rand.nextInt(39)));
		\end{lstlisting}
	\end{enumerate}
	\item Display the items that have an area of 50 or more.
\end{enumerate}

You'll need to study section "Array of objects" from lecture notes "Classes and Objects" in order to complete these tasks.

\begin{solution}
\begin{lstlisting}
import java.util.Random;

public class RegularPolygonClient {
	public static void main(String[] args) {
		Random rand = new Random();
		RegularPolygon[] items = new RegularPolygon[100];
		for(int i=0; i < items.length; i++) {
			int n = 3 + rand.nextInt(8);
			double s = 1 + (0.5 * (rand.nextInt(39)));
			items[i] = new RegularPolygon(n, s);
			if(items[i].area() > 50) {
				System.out.println(items[i]);
			}
		}
	}
}
\end{lstlisting}	
\end{solution}

\question 
\begin{enumerate}
  \item Implement the constructor and the \texttt{average} instance method in the class \texttt{DiceRollRecord}.
  \item In a client outside the class \texttt{DiceRollRecord}, create an object \texttt{myRecord} of class \texttt{DiceRollRecord} that holds a simulation of 500 dice rolls and display the average roll on the console.
\end{enumerate}

You'll need to study section "Class containing arrays" from lecture notes "Classes and Objects" in order to complete these tasks.

\begin{solution}
\begin{lstlisting}
public class DiceRollRecord {
	private int[] log;
	
	public DiceRollRecord(int n) {
		log = new int[Math.max(0, n)];
		Random rand = new Random();
		for(int i=0; i < log.length; i++) {
			log[i] = 1 + rand.nextInt(6); 
		}
	}
	
	public double average() {
		if(log.length == 0) {
			return 0;
		}
		int total = 0;
		for(int i=0; i < log.length; i++) {
			total+=log[i];
		}
		return total * 1.0 / log.length;
	}
}
\end{lstlisting}	

\begin{lstlisting}
import java.util.Random;

public class DiceRollRecordClient {
	public static void main(String[] args) {
		DiceRollRecord myRecord = new DiceRollRecord(500);
		System.out.println(myRecord.average());
	}
}
\end{lstlisting}

\end{solution}

\end{questions}
\end{document}
