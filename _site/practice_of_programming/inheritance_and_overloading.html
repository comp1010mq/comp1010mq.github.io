<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2019-02-26 11:11:12 +1100">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="">
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/fonts.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/lesson.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <link rel="stylesheet" type="text/css" href="/assets/css/dropdown-menu.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/collapsible-content.css" />

    <style>
      a{
        color: rgb(166,25,46);
      }
    </style>
    



    <!-- Favicons for everyone -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="http://localhost:4000/assets/favicons//apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/assets/favicons//apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/assets/favicons//apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/assets/favicons//apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="http://localhost:4000/assets/favicons//apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000/assets/favicons//apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000/assets/favicons//apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000/assets/favicons//apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons//favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons//favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons//favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons//favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons//favicon-128.png" sizes="128x128" />
    <meta name="application-name" content=" - Software Technology"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="http://localhost:4000/assets/favicons//mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="http://localhost:4000/assets/favicons//mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="http://localhost:4000/assets/favicons//mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="http://localhost:4000/assets/favicons//mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="http://localhost:4000/assets/favicons//mstile-310x310.png" />


    
<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/lesson.js"></script>
<script src="/assets/js/snap.svg-min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>

<script src="/assets/js/content-toggle.js"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
  <title>Software Technology: Inheritance and Overloading</title>
</head>
<body>
  <div class="container">
    <div class="row"><span class="pull-right"><a href="/advanced.html">Advanced Topics</a></span></div>
    <div class="row">
      <h1 class="maintitle"><a href="/index.html">Software Technology</a>: Inheritance and Overloading</h1>
    </div>
    <div class="row">
      <div class="col-sm-3 nav">
        <details id="programming" ><summary>Programming</summary><ol>
        <li><a href="/programming/transition_to_processing.html">Transition to Processing</a></li>
        <li><a href="/programming/primitive_operations.html">Primitive Operations</a></li>
        <li><a href="/programming/algorithms.html">Algorithms</a></li>
        <li><a href="/programming/variables.html">Variables</a></li>
        <li><a href="/programming/debugging_processing.html">Debugging in Processing</a></li>
        <li><a href="/programming/conditions.html">Conditions</a></li>
        <li><a href="/programming/loops.html">Loops</a></li>
        <li><a href="/programming/functions.html">Functions</a></li>
        <li><a href="/programming/composite_data.html">Composite Data</a></li>
        <li><a href="/programming/reference_semantics.html">Reference Semantics</a></li>
        <li><a href="">Transition to Java</a></li>
            <ol><li><a href="/programming/transition_to_java.html">Java Basics</a></li>
                <li><a href="/programming/debugging.html">Debugging in Java IDE</a></li>

            </ol>
        <li><a href="/programming/pen_and_paper_methodology.html">Pen and Paper Methodology</a></li>
        <li><a href="/programming/unit_testing.html">Unit Testing</a></li>
        <li>Classes - Writing your own Types</li>
        <li>Classes - Functions inside objects</li>
        <li>Recursion</li>
        <li>Lists</li>
        <li>Searching</li>
        <li>Lists ArrayLists vs Recursive Data</li>
    </ol>
</details>
<details><summary>Mathematics for Programmers</summary><ol>
        <li>Logic and Proofs</li>
        <li>Relations</li>
        <li>Mathematical Functions</li>
        <li>Matrices</li>
        <li>Binary Numbers</li>
        <li>Trigonomtry</li>
        <li>Finite State Machines</li>
        <li>Turing Machines</li>
        <li>Counting - Inclusion/Exclusion</li>
        <li>Graph Algorithms</li>
    </ol>
</details>
<details>
    <summary>Data Structures and Algorithms</summary>
    <ol>
        <li>Algorithm Efficiency</li>
        <li>Algorithm Correctness</li>
        <li>Trees</li>
        <li>Heaps, Stack, and Queues</li>
        <li>Maps and Hashtables</li>
        <li>Graphs and Graph Algorithms</li>
        <li>Advanced Trees and Computability</li>
    </ol>
</details>
<details>
    <summary>Systems Programming</summary>
        <li>Transition to C</li>
        <li>Pointers</li>
        <li>Memory Allocation</li>
        <li>IO</li>
        <li>Number representations</li>
        <li>Compilation and linking</li>
        <li>Shell Scripting</li>
        <li>Assembly Programming</li>
        <li>Structs and Unions</li>
        <li>How memory works</li>
        <li>Virtual Memory</li>
        <li>TODO: Concurrency</li>
</ol></details>
<details><summary>The Practice of Programming</summary><ol>
        <li>Version Control with Git</li>
        <li><a href="/practice_of_programming/inheritance_and_overloading.html">Inheritance and Overloading</a></li>
        <li>Generics</li>
        <li>Exceptions</li>
        <li>Lambda Expressions</li>
        <li>Design Patterns</li>
        <li>Concurrency<ol>
            <li>Concepts of Concurrency</li>
            <li>Object Locks</li>
            <li>Modern Java Concurrency</li>
            <li>Avoiding Sharing</li>
        </ol></li>
</ol></details>
<details><summary>Distributed Systems</summary><ol>
        <li>System Models</li>
        <li>Naming and Distributed File Systems</li>
        <li>Synchronisation and Concurrency</li>
        <li>Fault Tolerance and Security</li>
        <li>Clusters and Grids</li>
        <li>Virtualisation</li>
        <li>Data Centers</li>
        <li>Mobile Computing</li>
</ol></details>
<details><summary>Programming Languages</summary><ol>
            <li>Transition to Scala</li>
            <li>Functional Programming</li>
            <li>Syntax Analysis</li>
            <li>Name Analysis</li>
            <li>Type Analysis</li>
            <li>Transformation and Compilation</li>
            <li>Control Abstraction</li>
            <li>Implementing Data Abstraction</li>
            <li>Language Runtimes</li>
</ol></details>
<details ><summary>Provably Correct Programs</summary><ol>
        <li><a href="/provably_correct/intro.html">Transition to Coq</a></li>
        <li><a href="/provably_correct/induction.html">Proof by Induction, Stuctured Data</a></li>
        <li>Polymorphism and Higher-Order Functions</li>
        <li>Tactic-based proofs</li>
        <li>Logical Reasoning in Proof Assistants</li>
        <li>Inductive Propositions</li>
        <li>Maps</li>
        <li>An Imperative Programming Language</li>
        <li>Program E:quivalence</li>
        <li>Hoare Logic</li>
        <li>Small-Step Operational Semantics</li>
        <li>Simply-typed Lambda Calculus</li>
</ol></details>

      </div>
      <div class="col-sm-9">
        
<h1 id="summary">Summary</h1>
<p>Some more notes on exceptions, making and using your own. We’ll also have a first look at design patterns and look at an example of how they help design  programs which are easy to extend and maintain.</p>

<p>Book reference: 
  ~ Chapter 1 of Head First Design Patterns;</p>

<p>Resources: 
  ~ Some small examples of Java code (available from the COMP229 iLearn page) to illustrate some of the topics discussed in lectures.</p>

<h2 id="overloading-overriding-and-polymorphism">Overloading, overriding and polymorphism</h2>

<p>As we’ve seen, when subclassing we can override previously defined methods in subclasses. An overridden method has the same name and parameter list as a method in the
superclass. But methods can also be <em>overloaded</em>; this happens when the method has the same name as another method in the same class, but has a different parameter list or 
signature.</p>

<p>The related idea <em>polymorphism</em> is when objects of several types can be referred to. This allows programmers to define operations so that the operations appropriate to the 
referenced object is automatically selected at runtime.  An example of this idea is seen in the use of “+” which can be used as addition (when applied to integers) or concatenation when applied
to strings.</p>

<h2 id="inheritance-and-constructors">Inheritance and constructors</h2>

<p>Constructors are not inherited; usually the default constructor — i.e. the one without parameters — is automatically called to initialise inherited data members before the body of its sub-class
constructor is executed. As we saw last week we also have the <code class="highlighter-rouge">super</code> construct to be able to invoke the other (parameterised) constructors of the super-class. (Have a look at some of the examples
in last week’s code bundles.)  The precise constructor to be called by your <code class="highlighter-rouge">super()</code> call is determined by the parameter list.</p>

<h2 id="initialisers">Initialisers</h2>

<p>As you’ve probably seen in various code examples, initialisation is done through the constructors; however Java also provides the option to do that initialisation in initialisation blocks. For example
this might be appropriate when there are many constructors all which must have an array initialised in the same way. The syntax of the initialisation block looks like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>
public MyClass {
  private String[][] mArrayOfStrings;
  { // Initialiser
        mArrayOfStrings= new String[3][5];
         for(int i= 0; j &lt;  3; i++)
           for (int j=0 ; j &lt; 3; j++)
}
 // Constructors
 
 }

</pre></td></tr></tbody></table></code></pre></div></div>

<p>With so many things to be initialised in different ways, Java does everything in a particular order:</p>

<ul>
  <li>First, initialisaers and then constructors in super classes are executed</li>
  <li>next sub-class initialisers</li>
  <li>and finally the sub-class constructor body is executed.</li>
</ul>

<h2 id="class-hierarchies">Class Hierarchies</h2>

<p>As we’ve seen the classes are arranged in a hierarchy from superclass to subclasses. Common class features should be put as high as possible in the class hierarchy, and classes inherit methods and data from all of their ancestors via their parents.</p>

<p>In Java all classes have a special class called an <em>Object</em> class as an ancestor — we say that <code class="highlighter-rouge">Object</code> is the root of the class hierarchy.</p>

<h3 id="the-object-class">The <code class="highlighter-rouge">Object</code> class</h3>

<p>The object class  contains some useful methods which are all inherited by all classes:</p>

<ul>
  <li>default, no argument constructor;</li>
  <li><code class="highlighter-rouge">toString()</code> — a string representation;</li>
  <li><code class="highlighter-rouge">equals(), hashcode()</code> — object equality;</li>
  <li><code class="highlighter-rouge">clone()</code> — object replication;</li>
  <li><code class="highlighter-rouge">readObject(), writeObject()</code> — serialisation.</li>
</ul>

<p>Typically subclasses will override these methods to provide class specific features — and we’ve already seen some examples of
that.</p>

<h3 id="abstract-classes">Abstract classes</h3>

<p>In Java there is a notion of <em>abstract class</em> consisting of abstract methods — i.e. methods which have declarations and without implementations. Abstract classes cannot be instantiated directly, but their subclasses can. If a class is defined in this way then it is modified with the keyword <code class="highlighter-rouge">abstract</code> . Abstract classes are used to define broad features of a class.  They are used when you have a superclass for which you <em>can</em> define the fields, but there is no sensible way to define one or more of the methods in the superclass.</p>

<p>Take for example a hierarchy of animals.  We might model sheep, goats, cows and birds according to the following class diagram</p>

<p><img src="abstract_1.png" alt="simple animal inheritance hierarchy" /></p>

<p>How could we implement either <code class="highlighter-rouge">move</code> or <code class="highlighter-rouge">makeNoise</code> in the superclass?  There is no reasonable choice which applies to all animals.  The right way to deal with this in OO is to mark those methods as <code class="highlighter-rouge">abstract</code>.  Marking a method abstract means it is a method signature only, not an implementation.  This is OK in a sense because only a methods signature is part of it’s interface with the outside world.  However, objects built from such a class can’t possibly work because a call to the abstract method would crash (there is no code there!).  Thus any class with an abstract method must also be labelled <code class="highlighter-rouge">abstract</code> and you cannot call constructors (instantiate) abstract classes.</p>

<p><img src="abstract_2.png" alt="simple animal inheritance hierarchy with abstraction annotations" /></p>

<p>The above diagram is not correct UML.  UML has a notation for indicating something is abstract, which is to write it in italics like so</p>

<p><img src="abstract_3.png" alt="simple animal inheritance hierarchy with correct abstraction annotations" /></p>

<p>However, most of us don’t have a separate italic version of our handwriting.  Even if we did it is doubtful other people would recognise it.  Thus I prefer to use the abstract keywork in my diagrams.  This is an example where official UML falls down as a method of getting your ideas out of your head and onto paper.</p>

<h3 id="interfaces">Interfaces</h3>

<p>A class entirely composed of abstract  methods  is called an <em>interface</em> and is tagged with the <code class="highlighter-rouge">interface</code> keyword rather than <code class="highlighter-rouge">class</code> .</p>

<p>Interfaces and abstract classes enforce a common design structure which must be adhered to by the subclasses which are implemented. Interfaces can also inherit from other interfaces at once (i.e. we can have multiple inheritance at interfaces); moreover classes can also inherit from multiple interfaces by providing implementations for methods.</p>

<p>In fact multiple inheritance via interfaces avoids many of the problems encountered in other languages where multiple inheritance is allowed between arbitrary classes. For example if a class inherits from two implemented parent classes (which is possible in C++) then it’s possible that the two parent classes might have conflicting implementations, and moreover how would the subclass’s overriding mechanism work, and which parent would <code class="highlighter-rouge">super</code> refer to?</p>

<p>Doing all of this via interfaces avoids all of that because interfaces don’t have any implemented methods to conflict!  Aside: In my opinion the problems with multiple inheritance are overstated, but they are real and using interfaces does solve them.   However, it introduces other problems…</p>

<div class="task">
  <h2 id="catchphrase">Catchphrase</h2>

  <p>In a single four word sentence each, answer each of the following questions:</p>

  <ul>
    <li>What is the difference between an abstract class and an interface?</li>
    <li>Why might a method be labelled abstract?</li>
    <li>What characterises the things we should encapsulate?</li>
    <li>What is another way of saying “program to an interface”</li>
  </ul>

  <div class="solution">
    <h2 id="solution">Solution</h2>
    <ul>
      <li>There’s only abstract methods.</li>
      <li>There’s no sensible implementation.</li>
      <li>They might change.</li>
      <li>Program to a supertype.</li>
    </ul>
  </div>
</div>

<div class="task">
  <h2 id="bugs">Bugs</h2>

  <p>Download the <a href="payroll.zip">payroll code</a> and install inside of Eclipse. You should see a number of errors flagged in the project <code class="highlighter-rouge">payroll</code>, the reasons for them will become apparent as you work through the questions below.</p>

  <p>The package <code class="highlighter-rouge">payroll</code> contains a number of classes devoted to the implementation of a payroll system. The class <code class="highlighter-rouge">Employee</code> is an  <code class="highlighter-rouge">abstract</code> class which means that it has an unimplemented method. [Question: can abstract classes be instantiated?]</p>

  <p>The classes <code class="highlighter-rouge">FullTime</code> and <code class="highlighter-rouge">PartTime</code> both extend <code class="highlighter-rouge">Employee</code> .  [Question: what does the keyword <code class="highlighter-rouge">final</code> mean in the class declarations?]</p>

  <p>The error messages report that you need to implement a constructor for both classes: implement these constructors in the following way. The signatures should be as set out below, where for <code class="highlighter-rouge">FullTime</code> the variable <code class="highlighter-rouge">s</code> takes a value which should be assigned to <code class="highlighter-rouge">baseSalary</code> and for  <code class="highlighter-rouge">PartTime</code> the variables <code class="highlighter-rouge">r</code> and <code class="highlighter-rouge">h</code>  should be assigned to <code class="highlighter-rouge">hourlyRate</code> and <code class="highlighter-rouge">hours</code> respectively. You should call the methods <code class="highlighter-rouge">setSalary</code> , <code class="highlighter-rouge">setRate</code> and <code class="highlighter-rouge">setHours</code> to set these variables.</p>

  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>public FullTime (String first, String last, double s) 
public PartTime (String first, String last, double r, double h)
</pre></td></tr></tbody></table></code></pre></div>  </div>

  <p>Override the <code class="highlighter-rouge">toString</code> methods using <code class="highlighter-rouge">super</code> to call the Employee’s <code class="highlighter-rouge">toString</code> method so that when <code class="highlighter-rouge">toString</code> is called in the <code class="highlighter-rouge">Fulltime</code> class, for a full-time employee Horace Snooks who has a salary of $1000, the output is:</p>

  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>Full time: Horace Snooks, Salary:  $1000
</pre></td></tr></tbody></table></code></pre></div>  </div>

  <p>And a part-time worker <code class="highlighter-rouge">Jane Biggs</code> who works  4 hours for an hourly rate of $20, should be printed as:</p>

  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>Part time: Jane Biggs, Hourly Rate:  $20, Hours: 4
</pre></td></tr></tbody></table></code></pre></div>  </div>

  <ul>
    <li>
      <p>Implement the <code class="highlighter-rouge">earnings</code> methods in both the <code class="highlighter-rouge">FullTime</code> and <code class="highlighter-rouge">PartTime</code> classes. In <code class="highlighter-rouge">FullTime</code> it should just return the salary. In <code class="highlighter-rouge">PartTime</code> it should return the product of the hourly rate and the number of hours worked at the standard rate up to 35 hours, with the bonus rate applied to the number of hours in excess of 35. The standard bonus rate is 1.5 times the hourly rate.</p>
    </li>
    <li>
      <p>Write a <code class="highlighter-rouge">PayRoll</code> class containing a <code class="highlighter-rouge">main</code> method which sets up an array of four Employees described below. Your program should set up the array and print out the payroll as follows:</p>
    </li>
  </ul>

  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>  Full time: Fred Smith, Salary:  $1000, Earnings: $1000
  Full time: Samantha Simons, Salary:  $1500, Earnings: $1500
  Part time: Dame Edna Everage,  Hourly Rate: $1000 , Hours: 40, Earnings: $42500
  Part time: Angelina Jolie,  Hourly Rate: $1000 , Hours: 25, Earnings, $25000
</pre></td></tr></tbody></table></code></pre></div>  </div>

  <p>Angelina Jolie and Dame Edna Everage are part-time employees and work at a rate of $1000 per hour. (Their bonus rate is 1.5 times their standard hourly rate.) Fred Smith and Samantha Simons are full-time employees. Fred’s salary is $1000 per week and Samantha’s is $1500 per week. This week Angelina works 25 hours and Dame Edna works 40 hours, and both Samantha and Fred work their normal 35 hours.</p>

  <p>Note you will need to use the <code class="highlighter-rouge">java.io.*</code> libraries. Note also that a  <code class="highlighter-rouge">System.out.println(g)</code> automatically calls the <code class="highlighter-rouge">toString()</code> method for <code class="highlighter-rouge">g</code> — you may use this to simplify your program.  In your implementation try to make use of the overridden methods to make your application code as simple as possible.</p>

  <ul>
    <li>Currently the methods <code class="highlighter-rouge">setSalary</code> , <code class="highlighter-rouge">setRate</code> and <code class="highlighter-rouge">setHours</code> don’t treat the case where negative salaries, rates and hours worked are input. Change their declaration so that it reads: <code class="highlighter-rouge">public void  setSalary(double s) throws PayrollException </code> and change the implementation so that a <code class="highlighter-rouge">PayrollException</code> is thrown in the case that negative numbers are input.  You should see some errors appearing in your constructor definitions reporting unhandled exceptions. Add a <code class="highlighter-rouge">try ... catch</code> block to handle the errors so that an appropriate error message is reported.</li>
  </ul>

  <div class="solution">
    <h2 id="solution-1">Solution</h2>
    <p>Solution is in <code class="highlighter-rouge">payroll</code> package of <a href="payroll_solution.zip">payroll solutions</a> project.</p>
  </div>
</div>

      </div>
    </div>
  </div>
</body>
</html>
